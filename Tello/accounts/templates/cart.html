{% extends 'base.html' %}
{% load static %}
{% block css %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/checkboxes.css' %}">
    <link rel="stylesheet" href="{% static 'slick/slick.css' %}">
    <link rel="stylesheet" href="{% static 'slick/slick-theme.css' %}">
    <link rel="stylesheet" href="{% static 'css/profile.css' %}">
    <style>
        .profile-infp-inp {
            background: #F2F2F2;
                                    border-radius: 8px;
                                    width: 279px;
                                    height: 48px;
                                    opacity: 1;
                                    position: inherit;
                                    border: none;
                                    padding-left: 16px;
        }
        .slick-next,
        .slick-prev {
            background-color: rgb(209, 202, 202);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            z-index: 1;
        }

        .slick-next:hover,
        .slick-prev:hover {
            background-color: rgb(77, 52, 52);

        }

        .slick-next:focus,
        .slick-prev:focus {
            background-color: rgb(68, 63, 63);

        }

        .slick-slide {
            margin: 0 10px;
        }

        .card-header {
            background-color: transparent;
        }

        .btn-link {
            color: #4F4F4F;
        }

        .btn-link:hover {
            color: #4F4F4F;
            text-decoration: none;
        }
        .page-link {
            margin-left: 32px;
        }
        .page-item:first-child .page-link {
            margin-left: 0;
            border-radius: 50%;
            width: 36px;
            height: 36px;
        }
        .page-item:last-child .page-link {
            border-radius: 50%;
            width: 36px;
            height: 36px;
}
.num {
    border: none;
}
.card {
    filter: drop-shadow(0px 2px 16px rgba(130, 130, 130, 0.07));
    border: transparent;
    border-radius: 8px;
    box-shadow:none !important;
    background-color: 
white;
}
.card-header {
    border-bottom: none;
}

@media (min-width: 361px) and (max-width: 767px) {
    .empty-cont {
        display: flex;
        justify-content: initial !important;
    }
    .blocks-cont {
        padding-left: 0 !important;
        padding-right: 0 !important;
    }
    .personal-info {
        margin-right: 5px !important;
    }
    .block-1-img-cont {
        text-align: center;
    }
    .order-block-1 {
        display: block !important;
    }
    .profile-inputs-cont {
        display: block !important;
    }
    }
 @media (max-width: 360px) {
    .empty-cont {
        display: flex;
        justify-content: initial !important;
    }
    .blocks-cont {
        padding-left: 0 !important;
        padding-right: 0 !important;
    }
    .personal-info {
        margin-right: 5px !important;
    }
    .block-1-img-cont {
        text-align: center;
    }
    .order-block-1 {
        display: block !important;
    }
    .profile-inputs-cont {
        display: block !important;
    }
    }
 @media (min-width: 768px) and (max-width: 841px) {
    
    .empty-cont {
        display: flex;
        justify-content: initial !important;
    }
    .blocks-cont {
        padding-left: 0 !important;
        padding-right: 0 !important;
    }
    .personal-info {
        margin-right: 5px !important;
    }
    .block-1-img-cont {
        text-align: center;
    }
    .order-block-1 {
        display: block !important;
    }
    .profile-inputs-cont {
        display: block !important;
    }
    }
    </style>
    {% endblock %}

    {% block content %}
    <div class="profile-main" style="background-color: #FAF9F9; padding-bottom: 158px;">
        <div class="container-fluid">
            <div class="row">
                <!-- <div class="col-md-3 sections-cont" style="margin-top: 40px; padding-left: 73px;">
                    <div class="profile-sections" style="width: 280px; background-color: white; border-radius: 8px; padding-top: 32px; padding-left: 26px; padding-bottom: 32px;">
                        <h5 style="font-size: 20px; padding-bottom: 32px; color: #4F4F4F;">Profilim</h5>
                        <div>
                            <ul style="padding-left: 0;">
                                <a href="" style="text-decoration: none;"><li style="list-style: none; margin-bottom: 32px;"><img style="margin-right: 16px;" src="{% static 'img/cart.svg' %}" alt=""><span style="color: #4F4F4F;">Sifarişlərim</span></li></a>
                                <a href="{% url 'accounts:profile-favorites' request.user.slug%}" style="text-decoration: none;"><li style="list-style: none; margin-bottom: 32px;"><img style="margin-right: 16px;" src="{% static 'img/heart-gree.svg' %}" alt=""><span style="color: #2DD06E;">Favorilərim</span></li></a>
                                <a href="{% url 'accounts:user-profile' request.user.slug%}" style="text-decoration: none;"><li style="list-style: none; margin-bottom: 32px;"><img style="margin-right: 16px;" src="{% static 'img/person.svg' %}" alt=""><span style="color: #4F4F4F;">Şəxsi məlumatlar</span></li></a>
                                <a href="" style="text-decoration: none;"><li style="list-style: none; margin-bottom: 32px;"><img style="margin-right: 16px;" src="{% static 'img/pin.svg' %}" alt=""><span style="color: #4F4F4F;">Çatdırılma ünvanı</span></li></a>
                                <a href="{% url 'accounts:change-password' %}" style="text-decoration: none;"><li style="list-style: none; margin-bottom: 32px;"><img style="margin-right: 16px;" src="{% static 'img/person.svg' %}" alt=""><span style="color: #4F4F4F;">Şifrəni yenilə</span></li></a>
                                <a href="" style="text-decoration: none;"><li style="list-style: none;"><img style="margin-right: 16px;" src="{% static 'img/log-out.svg' %}" alt=""><span style="color: #4F4F4F;">Çıxış</span></li></a>
                            </ul>
                        </div>
                    </div>
                </div> -->
                <div class="col-md-8 profile-cards-cont" style="margin-top: 40px; padding-left: 34px;">
                    <div class="profile-names-cont">
                        <h4 class="profile-name-mobile" style="margin-bottom: 16px; color: #4F4F4F;">Profilim</h4>
                        <h5 style="font-size: 20px; padding-bottom: 32px; color: #4F4F4F; margin-top: 9px;">Səbət ({{user.user_cart.product_version.all.count}} məhsul)</h5>
                    </div>
                    
                    
                   
                    {% if user.user_cart.product_version.all.count != 0 %}
                    <div class="row favs-list">
                        {% for product in user.user_cart.product_version.all %}
                    <div class="col-md-12" style="margin-bottom: 40px;">
                        <div class="card" style="display: flex;">
                          
                            <div class="d-flex" style="padding: 10px;">
                                {% for image in product.product.product_image.all|slice:"1" %}
                                <img class="card-img-top" style="width: 115px;" src="/media/{{image}}" alt="Card image cap">
                                {% endfor %}
                                <div class="card-body" style="padding-top: 30px;">
                                    <div class="d-flex">
                                        <div>
                                            <h5 class="card-title" style="font-size: 16px;">{{product.product.brand}} {{product.product.title}}</h5>
                                    
                                            <p class="card-text">Rəng: <span style="text-transform: capitalize;">{{product.color}}</span></p>
    
                                        </div>
                                                                                
                                        <div style="margin-left: 100px; margin-top: 15px;">
                                            {{product.get_final_price}}<img style="margin-top: -5px;" src="{% static 'img/azn.svg' %}" alt="">
                                        </div>
                                        <div style="margin-left: 70px; margin-top: 15px; color: #2DD06E;">
                                            {{product.quantity}} ədəd
                                        </div>
                                    </div>
                                    
                                  </div>
                                  
                                  <div class="heart-cont" style="display: flex;
                          justify-content: end; align-items: center;">
                            <div style="border: 1px solid #F2F2F2; border-radius: 50%;
                            height: 40px;
                            width: 40px;
                            margin-right: 10px;">
                              <img class="delete-button" itsfor="{{product.pk}}" src="{% static 'img/delete.svg' %}" alt="" style="margin-top: 7px; margin-left: 10px;">

                            </div>
                          </div>
                        </div>
                            
                          </div>
                    </div>
                  {% endfor %}
                </div>
                    {% else %}
                     <div class="empty-cont">
                        <div style="background-color: white; text-align: center;height: 371px;">
                            <img src="{% static 'img/heart-empty.svg' %}" style="margin-top: 103px;" alt="">
                            <p style="color: #BDBDBD; margin-top: 40px;">Səbətinizdə hazırda heç bir məhsul yoxdur</p>
                        </div>
                    </div>
                    {% endif %}
                    
                </div>
                <div class="col-md-4" style="margin-top: 106px;">
                    <div class="card payment-card" style="width: 344px; padding: 32px; margin: 0 auto;">
                        <div style="border-bottom: 1px solid #828282;">
                            <h6 style="font-size: 20px; margin-bottom: 16px;">Ümumi</h6>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 16px;">
                                <span style="font-size: 16px;">Məbləğ</span>
                                <span style="font-size: 16px;">{{user.user_cart.get_price_summary}} <img style="margin-top: -5px;" src="{% static 'img/azn.svg' %}" alt=""></span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 16px;">
                                <span style="font-size: 16px;">Promo kod</span>
                                <span style="font-size: 16px;">-0.00 <img style="margin-top: -5px;" src="{% static 'img/azn.svg' %}" alt=""></span>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-top: 16px;">
                            <span style="font-size: 16px;">Cəmi</span>
                            <span style="font-size: 16px;">{{user.user_cart.get_price_summary}} <img style="margin-top: -5px;" src="{% static 'img/azn.svg' %}" alt=""></span>
                        </div>

                        <a href="{% url 'accounts:create-order' user.slug%}"><input type="submit" value="Məhsullari əldə et" style="margin-top: 22px; background-color: #2DD06E; border: none; border-radius: 8px; padding: 16px 80px; color: white;"></a>
                       
                       
                    </div>
                </div>
            </div>
        </div>

    </div>
    {% endblock %}

    {% block js %}
    <script src="{% static 'js/delete-from-cart.js' %}"></script>
    {% endblock %}